@using TaskFlow.Domain

<div class="tf-list">
    @if (Tasks.Count == 0)
    {
        <MudPaper Class="tf-empty" Elevation="0">
            <MudText Typo="Typo.h6">No tasks yet</MudText>
            <MudText Typo="Typo.body2">Create your first task and keep momentum going.</MudText>
        </MudPaper>
    }
    else
    {
        @foreach (var task in Tasks)
        {
            <MudPaper Elevation="1" Class="pa-2">
                <MudStack Row="true" AlignItems="AlignItems.Center" Justify="Justify.SpaceBetween" Spacing="1">
                    <MudText Typo="Typo.body1" Class="@(task.IsCompleted ? "tf-task-title-done" : string.Empty)">@task.Title</MudText>
                    <MudIconButton Icon="@Icons.Material.Filled.Edit" Color="Color.Primary" Size="Size.Small" aria-label="Edit task" title="Edit task" OnClick="() => OnEditTaskRequested.InvokeAsync(task.Id)" />
                </MudStack>
            </MudPaper>
        }
    }
</div>

@code {
    [Parameter, EditorRequired]
    public IReadOnlyList<TaskFlow.Domain.Task> Tasks { get; set; } = [];

    [Parameter, EditorRequired]
    public EventCallback<Guid> OnEditTaskRequested { get; set; }
}
